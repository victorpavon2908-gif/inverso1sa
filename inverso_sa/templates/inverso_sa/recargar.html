{% extends "inverso_sa/dashboard.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'inverso_sa/css/recarga.css' %}">
{% endblock %}

{% block contenido %}
<div class="container">

    <h2>ðŸ’³ Recargar saldo</h2>

    <a href="{% url 'inicio' %}" class="btn-cta">â¬… Regresar</a>

    {% for message in messages %}
        <p style="color:red">{{ message }}</p>
    {% endfor %}

    <!-- ===============================
        TARJETA DATOS BANCARIOS
    =============================== -->
    <div class="card-bg">

        <p>
            <span><strong>Banco:</strong> {{ cuenta.banco }}</span>
            <button type="button" onclick="copiar('{{ cuenta.banco }}')">
                Copiar
            </button>
        </p>

        <p>
            <span><strong>Destinatario:</strong> {{ cuenta.destinatario }}</span>
            <button type="button" onclick="copiar('{{ cuenta.destinatario }}')">
                Copiar
            </button>
        </p>

        <p>
            <span><strong>NÂ° Cuenta:</strong> {{ cuenta.numero_cuenta }}</span>
            <button type="button" onclick="copiar('{{ cuenta.numero_cuenta }}')">
                Copiar
            </button>
        </p>

    </div>

    <!-- ===============================
        FORMULARIO
    =============================== -->
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <label>Monto</label>
        <input type="number" name="monto" id="monto" required>

        <!-- montos rÃ¡pidos -->
        <div class="quick-amounts">
            <button type="button" onclick="setMonto(300)">C$300</button>
            <button type="button" onclick="setMonto(500)">C$500</button>
            <button type="button" onclick="setMonto(1000)">C$1000</button>
            <button type="button" onclick="setMonto(1000)">C$3000</button>
            <button type="button" onclick="setMonto(1000)">C$5000</button>
            <button type="button" onclick="setMonto(1000)">C$1000</button>
            <button type="button" onclick="setMonto(1000)">C$50000</button>
            <button type="button" onclick="setMonto(1000)">C$100000</button>
        </div>

        <label>Referencia</label>
        <input type="text" name="referencia" required>

        <label>Voucher</label>
        <input type="file" name="voucher" required>

        <button type="submit" class="btn-cta">
            Enviar recarga
        </button>
    </form>

</div>

<!-- ===============================
    JS COPIAR
================================ -->
<script>
function copiar(texto) {
    navigator.clipboard.writeText(texto);
    alert("Copiado correctamente âœ…");
}

function setMonto(valor) {
    document.getElementById("monto").value = valor;
}
</script>

{% endblock %}
