{% extends "inverso_sa/dashboard.html" %}
{% load static %}

{% block title %}Retirar saldo{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'inverso_sa/css/retirar.css' %}">
{% endblock %}

{% block contenido %}

<div class="container-retiro">

    <h2>ðŸ’¸ Solicitar retiro</h2>

    <p class="saldo-disponible">
        <strong>Saldo disponible:</strong>
        C$ {{ request.user.saldo }}
    </p>

    <!-- âœ… MENSAJES -->
    {% if messages %}
        <div class="alerts-container">
            {% for message in messages %}
                <div class="alert {{ message.tags }}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <form method="POST" class="retiro-form">
        {% csrf_token %}

        <label>Monto a retirar</label>
        <input
            type="number"
            name="monto"
            step="0.01"
            min="1"
            max="{{ request.user.saldo }}"
            required
        >

        <label>Cuenta bancaria</label>
        <select name="cuenta" required>
            {% for cuenta in cuentas %}
                <option value="{{ cuenta.id }}">
                    {{ cuenta.banco }} - {{ cuenta.numero_cuenta }}
                </option>
            {% empty %}
                <option disabled>
                    No tienes cuentas bancarias registradas
                </option>
            {% endfor %}
        </select>

        <button type="submit" class="btn-retirar">
            Solicitar retiro
        </button>
    </form>

</div>

{% endblock %}
